<?xml version="1.0"?>

<!-- CVS $Id: sitemap.xmap,v 1.1 2004/01/08 16:04:57 danielf Exp $ -->

<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">

  <map:pipelines>
    <map:pipeline>

      <map:match pattern="test1">
        <map:generate type="text" src="module:request:requestURI"/>
        <map:transform src="context://stylesheets/system/xml2html.xslt"/>
        <map:serialize/>
      </map:match>

      <map:match pattern="test2">
        <map:generate src="form2.html"/>
        <map:serialize/>
      </map:match>

      <map:match pattern="test2-post">
        <map:generate type="text" src="module:request-param:text"/>
        <map:transform src="context://stylesheets/system/xml2html.xslt"/>
        <map:serialize/>
      </map:match>

      <!-- post an xml file to test3 with e.g.
           curl -T "test.xml" http://localhost:8888/samples/scratchpad/module-source/test3 -->
      <map:match pattern="test3">
        <map:generate src="module:request:inputStream"/>
        <map:serialize type="xml"/>
      </map:match>

      <map:match pattern="test4">
        <map:generate src="form4.html"/>
        <map:serialize/>
      </map:match>

      <map:match pattern="test4-post">
        <map:generate src="module:raw-request-param:text"/>
        <map:transform src="context://stylesheets/system/xml2html.xslt"/>
        <map:serialize/>
      </map:match>

    </map:pipeline>
  </map:pipelines>
</map:sitemap>
