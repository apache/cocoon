<?xml version="1.0" encoding="UTF-8"?>
<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">
	<map:components>
		<map:selectors default="browser">
			<map:selector name="exception" src="org.apache.cocoon.selection.XPathExceptionSelector">
				<exception name="application" class="org.apache.cocoon.samples.errorhandling.ApplicationException">
					<xpath name="application1" test="errorCode=1"/>
					<xpath name="application2" test="errorCode=2"/>
				</exception>
				<exception name="validation" class="org.apache.cocoon.samples.errorhandling.ValidationException"/>
				<exception name="resourceNotFound" class="org.apache.cocoon.ResourceNotFoundException"/>
				<exception class="java.lang.Throwable" unroll="true"/>
			</map:selector>
		</map:selectors>
	</map:components>
	<map:pipelines>
		<map:pipeline>
			<map:match pattern="main">
				<map:generate src="main.htm"/>
				<map:serialize/>
			</map:match>
		</map:pipeline>
		<map:pipeline>
			<map:mount uri-prefix="exception" src="exception/"/>
			<map:handle-errors>
				<map:select type="exception">
					<map:when test="resourceNotFound">
						<map:generate src="resourceNotFound.htm"/>
						<map:serialize/>
					</map:when>
				</map:select>
			</map:handle-errors>
		</map:pipeline>
		<map:handle-errors>
			<map:generate src="generalerror.htm"/>
			<map:serialize/>
		</map:handle-errors>
	</map:pipelines>
</map:sitemap>