<?xml version="1.0"?>

<!-- CVS $Id: sitemap.xmap,v 1.2 2003/07/29 03:15:47 vgritsenko Exp $ -->

<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">

<!-- =========================== Views =================================== -->

  <map:views>
    <map:view name="content" from-label="content">
      <map:serialize type="xml"/>
    </map:view>

    <map:view from-label="content" name="pretty-content">
      <map:transform src="context://stylesheets/system/xml2html.xslt"/>
      <map:serialize type="html"/>
    </map:view>

    <map:view name="links" from-position="last">
      <map:serialize type="links"/>
    </map:view>
  </map:views>

<!-- =========================== Pipelines ================================= -->

  <map:pipelines>
     <map:pipeline>

       <map:match pattern="">
         <map:generate src="samples.xml"/>
         <map:transform src="context://samples/common/style/xsl/html/simple-samples2html.xsl">
           <map:parameter name="contextPath" value="{request:contextPath}"/>
         </map:transform>
         <map:serialize/>
       </map:match>

       <map:match pattern="*.apache.org/">
          <map:generate src="{1}.apache.org/content.xml"/>
          <map:transform src="{1}.apache.org/stylesheet.xsl"/>
          <map:serialize/>
        </map:match>

        <map:match pattern="*.apache.org/*.gif">
          <map:read mime-type="image/gif" src="{1}.apache.org/{2}.gif"/>
        </map:match>

        <map:match pattern="*.apache.org/*.css">
          <map:read mime-type="text/css" src="{1}.apache.org/{2}.css"/>
        </map:match>

     </map:pipeline>                
  </map:pipelines>
</map:sitemap>
