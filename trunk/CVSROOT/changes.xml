<?xml version="1.0"?>

<!DOCTYPE changes SYSTEM "./dtd/changes-v10.dtd">

<!-- 
  History of Cocoon changes
  $Id: changes.xml,v 1.16 2000-01-05 16:04:18 stefano Exp $
-->

<changes title="Cocoon History of Changes">
  <devs>
    <person name="Stefano Mazzocchi" email="stefano@apache.org" id="SM"/>
    <person name="Donald Ball" email="balld@webslingerZ.com" id="DB"/>
    <person name="Ricardo Rocha" email="rrocha@apache.org" id="RR"/>
  </devs>

 <release version="1.6-dev" date="not yet released">
  <action dev="SM" type="fix" due-to="Axel Müller" due-to-email="axel.mueller@i2c-systems.com">
  	Fixed Servlet API illegal state when setting the content type after acquiring the 
  	servlet response instance.
  </action>
  <action dev="SM" type="update">
  	Added XSP sample pages.
  </action>
  <action dev="SM" type="update">
  	Cleaned-up docs, in preparation for release.
  </action>
  <action dev="SM" type="update">
  	Tuned Xerces attributes for speed.
  </action>
  <action dev="SM" type="add" due-to="James Birchfield" due-to-email="jmbirchfield@proteus-technologies.com">
  	Added VRML formatter.
  </action>
  <action dev="SM" type="update">
  	Updated XSP working draft to match implementation (the WD was slowly changed
  	during development to match new emerging needs).
  </action>
  <action dev="RR" type="add">
  	Added XSP primer in documentation.
  </action>
  <action dev="RR" type="add">
  	Added implementation of the XSP technology. The Cocoon Project is thankful to 
  	<link href="http://www.exoffice.com">Exoffice Technologies</link> that sponsored
  	the creation of such implementation by hiring Ricardo and donated it to the project.
  </action>
  <action dev="SM" type="add" due-to="Brett McLaughlin" due-to-email="bmclaugh@algx.net">
  	Added examples on how to call the Cocoon engine from another servlet.
  </action>
  <action dev="SM" type="add">
  	Added better documentation in the build.xml file for how to build Cocoon.
  </action>
  <action dev="SM" type="add" due-to="James Birchfield" due-to-email="jmbirchfield@proteus-technologies.com">
  	Added LDAP processor documentation.
  </action>
  <action dev="SM" type="update" due-to="Brett McLaughlin" due-to-email="bmclaugh@algx.net">
  	Added the singleton pattern to Engine to allow use of Cocoon from Turbine.
  </action>
  <action dev="SM" type="fix" due-to="Richard A. Wells" due-to-email="raw@raw.com">
    Fixed language and typos in technology.xml.
  </action>
  <action dev="SM" type="add" due-to="James Birchfield" due-to-email="jmbirchfield@proteus-technologies.com">
    Added LDAP processor and samples.
  </action>
  <action dev="RR" type="add">
    Made ServletResponse and ServletContext available to engine and processors. This will require
    further abstraction to avoid processors from messing up with the response output stream.
  </action>
  <action dev="RR" type="fix">
    Fixed DCP problems on getting property file when cocoon.jar is in classpath under java 1.1 JVMs.
  </action>
  <action dev="SM" type="add">
    Added the ability to return HTTP error messages from Cocoon.
  </action>
  <action dev="DB" type="fix" due-to="Brett McLaughlin" due-to-email="bmclaugh@algx.net">
  	Added dummy methods to EngineWrapper for JSDK 2.2 compatibility
  </action>
  <action dev="DB" type="add">
  	Added ProducerFromMap as a sitemap primer.
  </action>
  <action dev="SM" type="add" due-to="Brett McLaughlin" due-to-email="bmclaugh@algx.net">
  	Added Tomcat installation instructions.
  </action>
  <action dev="DB" type="update">
  	Moved a few things around in ColumnFormatter so that it's possible for columns to be formatted as more than simply a text node (e.g. embedded HTML). Also added a little formatter that can transform \n into <![CDATA[<br>]]> for text and varchar columns.
  </action>
  <action dev="DB" type="add" due-to="Ed Ward" due-to-email="ed@waterfall.freeserve.co.uk">
  	Added new classes to SQLProcessor to do column-specific date formatting.
  </action>
  <action dev="SM" type="add" due-to="Gerrit Hiddink" due-to-email="grit@wwcn.org">
    Add new producer for POST document processing, also useful for use of 
    Cocoon as a module (see EngineWrapper).
  </action>
  <action dev="SM" type="fix" due-to="Ambarish Chaudhari" due-to-email="ambarish.chaudhari@ecapsol.com">
    Fixed null problem in MemoryStore for command line operation.
  </action>
  <action dev="SM" type="add">
    Added Ant build file.
  </action>
  <action dev="SM" type="add">
    Added Documentation DTD.
  </action>
  <action dev="SM" type="update">
    Moved "examples/" under "samples/" for global xml.apache.org pattern.
  </action>
  <action dev="SM" type="update">
    Removed the makefile and moved to Ant as building system.
  </action>
  <action dev="SM" type="update">
    Moved all documentation and util files (todo, changes) to XML.
  </action>
  <action dev="SM" type="update">
    Updated support for Sun ProjectX TR2.
  </action>
  <action dev="SM" type="update">
    Updated the parser interface to allow better entity evaluation. :)
  </action>
  <action dev="SM" type="add">
    Added Xerces and Xalan support which now become the default components (finally!). :)
  </action>
  <action dev="SM" type="remove">
    Removed XML4j and LotusXSL support.
  </action>
  <action dev="SM" type="remove">
    Removed support for Oracle products since it was too difficult to maintain it due to
    requirement that Oracle XSLT processor worked on Oracle own DOM implementation.
  </action>
  <action dev="SM" type="add" due-to="Ted Achacoso" due-to-email="ted@groupserve.com">
    Added VoiceML sample file.
  </action>
  <action dev="SM" type="remove" due-to="Simon McClenahan" due-to-email="simon@balr.com">
    Removed all old PI formats from docs and properties file.
  </action>
  <action dev="SM" type="add" due-to="Zvi Avraham" due-to-email="zvia@netmanage.co.il">
    Added a public method to FormatterFactory to allow more direct formatting.
  </action>
  <action dev="SM" type="fix" due-to="Gerrit Hiddink" due-to-email="hiddinkg@cs.utwente.nl">
    Patched EngineWrapper to allow FileProducer to work when called from command line.
  </action>
</release>

<release version="1.5" date="October 29 1999">
  <action dev="SM" type="fix" due-to="Jeffrey Thomas Harris" due-to-email="harris@columbus.rr.com">
    Fixed concurrency problem in XML4j parser.
  </action>
  <action dev="SM" type="add" due-to="Scott Stirling" due-to-email="sstirlin@gis.net">
    Added JRun installation instructions.
  </action>
  <action dev="SM" type="add" due-to="David Lehn" due-to-email="dlehn@vt.edu">
    Added more info on the Cocoon status page.
  </action>
  <action dev="SM" type="fix">
    Patched OpenXML that had a bug in the XML publisher that didn't support doctypes imposed from the
    outside. This was breaking the WML formatter.
  </action>
  <action dev="SM" type="fix">
    Patched XSL:P to support &lt;xsl:processing-instruction&gt; instead of &lt;xsl:pi&gt; which is now deprecated. 
    This makes XSL:P a hybrid between XSLT revisions but it's easier this way than to create two sets
    of examples that work with latest and oldest releases of XSLT. Hopefully XSLT will standardize soon.
  </action>
  <action dev="SM" type="fix" due-to="Jeffrey Thomas Harris" due-to-email="harris@columbus.rr.com">
    Fixed XML4J support bug.
  </action>
  <action dev="SM" type="add">
    Added XSL:P Formatters.
  </action>
  <action dev="SM" type="update">
    Updated XSL:P to build 19991017.
  </action>
  <action dev="SM" type="add" due-to="Ben Laurie" due-to-email="ben@algroup.co.uk">
    Added parameter visibility to formatters to allow request-dependent formatting.
  </action>
  <action dev="SM" type="update">
    Changed Hashtable in more abstract Dictionary in all interfaces (this will
    be updated to collection classes when JDK 1.2 is available).
  </action>
  <action dev="SM" type="update">
    Updated Fop to version 0.11
  </action>
  <action dev="SM" type="add" due-to="Stefano Malimpensa" due-to-email="malimpen@dei.unipd.it">
    Added a work-around for the JServ1.1b2 bug.
  </action>
  <action dev="SM" type="update">
    Updated documentation.
  </action>
  <action dev="SM" type="add" due-to="Kenneth Murphy" due-to-email="murphyk@umsystem.edu">
    Added the plan for JavaDOC XML generator and the JavaDOC DTD working draft.
  </action>
  <action dev="SM" type="update">
    Updated examples, especially the WML example which was based on an obsolete WML DTD.
  </action>
  <action dev="SM" type="add">
    Added WML formatter.
  </action>
  <action dev="SM" type="add">
    Added the ability to &quot;mount&quot; the Cocoon status to a configurable URL.
  </action>
  <action dev="SM" type="add">
    Added the ability to hide Cocoon status for security reasons.
  </action>
  <action dev="SM" type="remove">
    Removed the persistent part of the object store since it's not used.
  </action>
  <action dev="SM" type="fix">
    Fixed DCP problem in loading the initScript.es file as system resource.
  </action>
  <action dev="SM" type="add" due-to="Ben Laurie" due-to-email="ben@algroup.co.uk">
    Added some better diagnostic hooks.
  </action>
  <action dev="DB" type="add">
    Added SQLProcessor.
  </action>
  <action dev="SM" type="fix" due-to="Stefano Malimpensa" due-to-email="malimpen@dei.unipd.it">
    Fixed a bug in the EcmaScript language interpreter.
  </action>
  <action dev="SM" type="fix">
    Fixed problems on startup without complete configurations and written more
    descriptive error messages on exceptions.
  </action>
  <action dev="SM" type="update">
    Updated the examples to reflect the changes.
  </action>
  <action dev="SM" type="update" due-to="Tim Bray" due-to-email="tbray@textuality.com">
    Changed Cocoon illegal PIs from &lt;?cocon:xxx?&gt; to &lt;?cocoon-xxx?&gt;.
  </action>
</release>

<release version="1.4" date="September 13 1999">
  <action dev="SM" type="fix" due-to="Hannes Haug" due-to-email="hannes@haug.com">
    Fixed portability issues with JRun and Sun's JSWDK.
  </action>
  <action dev="SM" type="add">
    Added parsed stylesheets caching capabilities to the AbstractXSLTProcessor:
    now if produced files are changed but stylesheets don't, the second are not
    reparsed, improving the system performance since this is a very frequent
    case.
  </action>
  <action dev="SM" type="update">
    Reduced the memory footprint of some classes by initializing the
    hashtables to lower values than default.
  </action>
  <action dev="SM" type="update">
    Improved the speed of PI searching by looking for first found PI instead
    of scanning the whole file.
  </action>
  <action dev="SM" type="update">
    Updated the cocoon processing instructions that drive the reaction: &lt;?cocoon:process?&gt;
    drives the processing reaction, &lt;?cocoon.format?&gt; indicates the
    formatter used to end processing and format the document.
  </action>
  <action dev="SM" type="remove">
    Removed the processor pipeline and replaced with a reactor-type router
    with PI-based reaction.
  </action>
  <action dev="SM" type="update">
    Moved the example classes in their own package for easier installation and testing.
  </action>
  <action dev="SM" type="update">
    Modified a number of classes to fit the new Store and Cache subframeworks.
  </action>
  <action dev="SM" type="add">
    Added a first implementation of the Cache interface based on dynamic
    evaluation of changeable points.
  </action>
  <action dev="SM" type="add">
    Added a first implementation of the Store interface based on serialization
    persistency wrapped by an adaptively managed memory buffer.
  </action>
  <action dev="SM" type="add">
    Added support for the Oracle XSL Processor (works only with the Oracle XML Parser).
  </action>
  <action dev="SM" type="add">
    Added the Store framework.
  </action>
  <action dev="SM" type="add" due-to="James Tauber" due-to-email="jtauber@jtauber.com">
    Included FOP Version 0.9.1 that partially supports latest XSL Formatting
    Object specification (19990421).
  </action>
  <action dev="SM" type="update" due-to="Keith Visco" due-to-email="kvisco@ziplink.net">
    Included XSL:P Version 1.0 Beta (19990823) that supports latest XSLT
    specification (19990421).
  </action>
  <action dev="SM" type="add">
    Introduced the Actor/Director concept to allow cleaner implementation and
    configuration of dynamically loaded objects.
  </action>
  <action dev="SM" type="add">
    Added the WAP example to show how Cocoon can serve the same content to fat
    HTML clients and thin WML clients such as WAP-enabled cellular phones or PDA.
  </action>
  <action dev="SM" type="remove">
    Removed the need for a properties file in DCP.
  </action>
  <action dev="SM" type="fix" due-to="Hannes Haug" due-to-email="hannes@haug.com">
    Fixed a minor bug in Configurations.
  </action>
  <action dev="SM" type="add">
    Added the Producer subframework for easier dynamic XML generation.
  </action>
  <action dev="SM" type="update">
    Rewritten and cleaned up the formatting section using the Router abstract class.
  </action>
  <action dev="SM" type="update">
    Rewritten some of the underlying design pattern implementations.
  </action>
  <action dev="SM" type="fix" due-to="Christopher Conway" due-to-email="chris_conway@mail.scp.com">
    Fixed bug in SunXMLParser not implementing Status.
  </action>
  <action dev="SM" type="add" due-to="Christopher Conway" due-to-email="chris_conway@mail.scp.com">
    Added support for Oracle XML parser.
  </action>
  <action dev="RR" type="add">
    Added Dynamic Content Processor.
  </action>
  <action dev="SM" type="update">
    Updated sample configurations to reflect the changes.
  </action>
  <action dev="SM" type="update">
    Rewritten the PI parser for more general use in AbstractXSLProcessor.
  </action>
  <action dev="SM" type="add">
    Created the EngineWrapper class to extend the Engine class for use on
    non-servlet based applications.
  </action>
  <action dev="SM" type="add">
    Added the possibility to use request parameters to trigger special events
    on the page. Currently debug and cache are supported.
  </action>
  <action dev="SM" type="add">
    Added request and cache as parameters for the processor chain as requested
    by more sophisticated processors.
  </action>
  <action dev="SM" type="update">
    Changed the cache system interface to match new needs.
  </action>
  <action dev="SM" type="update">
    Changed the printing architecture. Now, you don't need to specify the type
    of formattation but the publishing system will understand it for you (based
    on processing instructions and the specified document type).
  </action>
  <action dev="SM" type="add">
    Added white paper on the Cocoon 2 architecture for public review.
  </action>
  <action dev="SM" type="fix" due-to="Paul O'Rorke" due-to-email="paul_ororke@sparks.com">
    Fixed typos, added support for more detailed verbosity and fixed a
    path-parsing bug for win32 systems.
  </action>
  <action dev="SM" type="add" due-to="James Tauber" due-to-email="jtauber@jtauber.com">
    Added support for James Tauber's FOP to translate XSL:FO-styled documents
    into PDF documents.
  </action>
</release>

<release version="1.3.1" date="May 31 1999">
  <action dev="SM" type="add">
    Added the first finished working draft of the XSP specification for public review.
  </action>
  <action dev="SM" type="remove">
    Removed the XML and XSL specifications from the distribution.
  </action>
  <action dev="DB" type="fix">
    Fixed a deadlock problem in the cache system.
  </action>
</release>

<release version="1.3" date="May 12 1999">
  <action dev="SM" type="add">
    Included more detailed example of future XSP technology.
  </action>
  <action dev="SM" type="add" due-to="Robb Shecter" due-to-email="shecter@darmstadt.gmd.de">
    Patched the Sun ProjectX parser wrapper to work with latest release. Added also a Sun printer class.
  </action>
  <action dev="DB" type="add">
    Added the ability to call Cocoon from the command line.
  </action>
  <action dev="SM" type="fix">
    Fixed the final Vector.toString() problem in JDK 1.1 compilation.
  </action>
  <action dev="SM" type="fix">
    Fixed the &quot;verify error&quot; by using Jikes compiler for distribution.
  </action>
  <action dev="SM" type="update">
    Cleaned up documentation and added some entries in the FAQ.
  </action>
  <action dev="SM" type="remove">
    Removed win32 batch scripts and rewritten the makefile.
  </action>
  <action dev="DB" type="add">
    Added a better cache engine.
  </action> 
</release>

<release version="1.2" date="April 30 1999">
  <action dev="SM" type="update">
    Improved documentation and cleaned things around.
  </action>
  <action dev="SM" type="update">
    Changed versions of both OpenXML and XSL:P.
  </action>
  <action dev="SM" type="update">
    Moved the core processing into a different class named Engine, first step
    to a complete servlet/application duality.
  </action>
  <action dev="SM" type="add">
    Added the Cocoon status handler.
  </action>
  <action dev="SM" type="add">
    Added a better user interface for the servlet and a nicer look to report errors.
  </action>
  <action dev="DB" type="add">
    Added the OpenXML printer wrapper class that uses the new X3P API.
  </action>
  <action dev="SM" type="update">
    Changed the initialization section to match exceptions thrown on different
    servlet platforms.
  </action>
  <action dev="SM" type="update" due-to="George T. Talbot" due-to-email="george@moberg.com">
    Changed behavior to identity transformation through the DOM processors if
    no PI are found.
  </action>
</release>

<release version="1.1.1" date="Apr 5 1999">
  <action dev="SM" type="fix">
    Fixed a problem with the getClassloader() method returning null. Now
    Cocoon doesn't always use the internal properties file but adds hardcoded
    default values. This is because in Java 1.1 there is no getSystemClassloader()
    method.
  </action>
  <action dev="SM" type="update">
    Included the updated versions of both OpenXML 1.0.5 and XSL:P 19990326
    which should fix lots of bugs and improve the overall performance.
  </action>
  <action dev="SM" type="fix" due-to="Adrian Durkin" due-to-email="adrian_durkin@hotmail.com">
    Patched to avoid the use of File.toURL() method which is not found under
    the Java1 platform.
  </action>
  <action dev="SM" type="add" due-to="Greg Ritter" due-to-email="ritter@wt.net">
    Added DoNothingCache to avoid caching during document debugging.
  </action>
</release>

<release version="1.1" date="March 25 1999">
 <action dev="SM" type="update">
  Changed the stylesheet mapping processing instruction from illegal &quot;xml:stylesheet&quot;
  to standard &quot;xml-stylesheet&quot;.
 </action>
 <action dev="SM" type="add">
  Created Cocoon logo.
 </action>
 <action dev="SM" type="add" due-to="Greg Ritter" due-to-email="ritter@wt.net">
  Added LRU caching (both memory and disk).
 </action>
 <action dev="SM" type="add" due-to="Keith Visco" due-to-email="kvisco@ziplink.net">
  Added support for XSL:P processor.
 </action>
 <action dev="SM" type="remove">
  Removed support for Koala XSL parser.
 </action>
 <action dev="SM" type="update">
  Redesigned internal framework.
 </action>
 <action dev="SM" type="fix" due-to="Patrick Gardella" due-to-email="patrick@cre8tivegroup.com">
  Fixed some typos and English bugs in docs.
 </action>
</release>

<release version="1.0" date="March 10 1999">
 <action dev="SM" type="add">
  Initial version.
 </action>
</release>

</changes>