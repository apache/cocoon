<?xml version="1.0" encoding="UTF-8"?>
<sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0" xmlns:fo="http://www.w3.org/1999/XSL/Format">
    <info/>
    <matcher pattern="page-mail/*-head-col-1">
        <call resource="load-xsp-page">
            <resource name="load-xsp-page">
                <select/>
                <serialize type="xml"/>
            </resource>
        </call>
    </matcher>
    <matcher pattern="page-mail/mail-mid-col-1">
        <generate src="docs/mid-col-1/mail.xsp"/>
        <transform src="stylesheets/mail2document.xsl"/>
        <serialize type="xml"/>
    </matcher>
    <matcher pattern="page-mail/*-mid-col-1">
        <call resource="load-xsp-page">
            <resource name="load-xsp-page">
                <select/>
                <serialize type="xml"/>
            </resource>
        </call>
    </matcher>
    <matcher pattern="page-mail/mail-mid-col-2">
        <generate src="docs/mid-col-2/mail.xsp"/>
        <select/>
        <serialize type="xml"/>
    </matcher>
    <matcher pattern="page-mail/*-mid-col-2">
        <call resource="load-xsp-page">
            <resource name="load-xsp-page">
                <select/>
                <serialize type="xml"/>
            </resource>
        </call>
    </matcher>
    <matcher pattern="page-mail/*-mid-col-3">
        <call resource="load-page">
            <resource name="load-page">
                <select/>
                <serialize type="xml"/>
            </resource>
        </call>
    </matcher>
    <matcher pattern="page-**-top-col-1">
        <call resource="load-page">
            <resource name="load-page">
                <select/>
                <serialize type="xml"/>
            </resource>
        </call>
    </matcher>
    <matcher pattern="page-*-head-col-1">
        <call resource="load-page">
            <resource name="load-page">
                <select/>
                <serialize type="xml"/>
            </resource>
        </call>
    </matcher>
    <matcher pattern="page-*-mid-col-1">
        <call resource="load-page">
            <resource name="load-page">
                <select/>
                <serialize type="xml"/>
            </resource>
        </call>
    </matcher>
    <matcher pattern="page-*-mid-col-2">
        <generate src="docs/mid-col-2/{1}.xml"/>
        <serialize type="xml"/>
    </matcher>
    <matcher pattern="page-*-mid-col-3">
        <call resource="load-page">
            <resource name="load-page">
                <select/>
                <serialize type="xml"/>
            </resource>
        </call>
    </matcher>
    <matcher pattern="page-**-bottom-col-1">
        <call resource="load-page">
            <resource name="load-page">
                <select/>
                <serialize type="xml"/>
            </resource>
        </call>
    </matcher>
    <matcher pattern="^([^(/)0-9]+)(\(([0-9]+)+\))?\.html$">
        <call resource="show-page">
            <resource name="show-page">
                <aggregate element="site">
                    <pipeline src="cocoon:/page-{page}-top-col-1" element="top-col-1">
                        <matcher pattern="page-**-top-col-1">
                            <call resource="load-page">
                                <resource name="load-page">
                                    <select/>
                                    <serialize type="xml"/>
                                </resource>
                            </call>
                        </matcher>
                    </pipeline>
                    <pipeline src="cocoon:/page-{page}-head-col-1" element="head-col-1">
                        <matcher pattern="page-*-head-col-1">
                            <call resource="load-page">
                                <resource name="load-page">
                                    <select/>
                                    <serialize type="xml"/>
                                </resource>
                            </call>
                        </matcher>
                    </pipeline>
                    <pipeline src="cocoon:/page-{page}-mid-col-1" element="mid-col-1">
                        <matcher pattern="page-*-mid-col-1">
                            <call resource="load-page">
                                <resource name="load-page">
                                    <select/>
                                    <serialize type="xml"/>
                                </resource>
                            </call>
                        </matcher>
                    </pipeline>
                    <pipeline src="cocoon:/page-{page}-mid-col-2" element="mid-col-2">
                        <matcher pattern="page-*-mid-col-2">
                            <generate src="docs/mid-col-2/{1}.xml"/>
                            <serialize type="xml"/>
                        </matcher>
                    </pipeline>
                    <pipeline src="cocoon:/page-{page}-mid-col-3" element="mid-col-3">
                        <matcher pattern="page-*-mid-col-3">
                            <call resource="load-page">
                                <resource name="load-page">
                                    <select/>
                                    <serialize type="xml"/>
                                </resource>
                            </call>
                        </matcher>
                    </pipeline>
                    <pipeline src="cocoon:/page-{page}-bottom-col-1" element="bottom-col-1">
                        <matcher pattern="page-**-bottom-col-1">
                            <call resource="load-page">
                                <resource name="load-page">
                                    <select/>
                                    <serialize type="xml"/>
                                </resource>
                            </call>
                        </matcher>
                    </pipeline>
                </aggregate>
            </resource>
        </call>
        <transform src="pagesheets/htmlpages.xml"/>
        <transform src="stylesheets/site2html.xsl"/>
        <serialize/>
    </matcher>
    <matcher pattern="^mail/([a-z]+)(\(([0-9]+)+\))?\.html$">
        <call resource="show-page">
            <resource name="show-page">
                <aggregate element="site">
                    <pipeline src="cocoon:/page-{page}-top-col-1" element="top-col-1">
                        <matcher pattern="page-**-top-col-1">
                            <call resource="load-page">
                                <resource name="load-page">
                                    <select/>
                                    <serialize type="xml"/>
                                </resource>
                            </call>
                        </matcher>
                    </pipeline>
                    <pipeline src="cocoon:/page-{page}-head-col-1" element="head-col-1">
                        <matcher pattern="page-*-head-col-1">
                            <call resource="load-page">
                                <resource name="load-page">
                                    <select/>
                                    <serialize type="xml"/>
                                </resource>
                            </call>
                        </matcher>
                    </pipeline>
                    <pipeline src="cocoon:/page-{page}-mid-col-1" element="mid-col-1">
                        <matcher pattern="page-*-mid-col-1">
                            <call resource="load-page">
                                <resource name="load-page">
                                    <select/>
                                    <serialize type="xml"/>
                                </resource>
                            </call>
                        </matcher>
                    </pipeline>
                    <pipeline src="cocoon:/page-{page}-mid-col-2" element="mid-col-2">
                        <matcher pattern="page-*-mid-col-2">
                            <generate src="docs/mid-col-2/{1}.xml"/>
                            <serialize type="xml"/>
                        </matcher>
                    </pipeline>
                    <pipeline src="cocoon:/page-{page}-mid-col-3" element="mid-col-3">
                        <matcher pattern="page-*-mid-col-3">
                            <call resource="load-page">
                                <resource name="load-page">
                                    <select/>
                                    <serialize type="xml"/>
                                </resource>
                            </call>
                        </matcher>
                    </pipeline>
                    <pipeline src="cocoon:/page-{page}-bottom-col-1" element="bottom-col-1">
                        <matcher pattern="page-**-bottom-col-1">
                            <call resource="load-page">
                                <resource name="load-page">
                                    <select/>
                                    <serialize type="xml"/>
                                </resource>
                            </call>
                        </matcher>
                    </pipeline>
                </aggregate>
            </resource>
        </call>
        <transform src="pagesheets/mailhtmlpages.xml"/>
        <transform src="stylesheets/site2html.xsl"/>
        <serialize/>
    </matcher>
    <matcher pattern="*.css">
        <read src="resources/styles/{1}.css"/>
    </matcher>
    <matcher pattern="*.gif">
        <read src="resources/images/{1}.gif"/>
    </matcher>
    <matcher pattern="*.png">
        <read src="resources/images/{1}.png"/>
    </matcher>
    <matcher pattern="*.jpg">
        <read src="resources/images/{1}.jpg"/>
    </matcher>
    <matcher pattern="favicon.ico">
        <read src="resources/images/favicon.ico"/>
    </matcher>
    <matcher pattern="asciiart/*.jpg">
        <generate src="resources/asciiart/{1}.txt"/>
        <serialize type="svg2jpeg"/>
    </matcher>
</sitemap>
