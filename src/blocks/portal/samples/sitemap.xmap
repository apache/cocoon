<?xml version="1.0"?>
<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">
<!-- =========================== Components ================================ -->

 <map:components>

  <map:generators default="file">
    <map:generator name="portal" src="org.apache.cocoon.portal.generation.PortalGenerator"/>
  </map:generators>
  <map:transformers default="xslt">
    <map:transformer name="htmlroot" src="org.apache.cocoon.portal.transformation.HTMLRootTransformer" logger="sitemap.transformer.htmlroot" />
  </map:transformers>
  <map:readers default="resource"/>
  <map:serializers default="html"/>
  <map:matchers default="wildcard"/>
  <map:selectors default="browser"/>
 </map:components>
 
<!-- =========================== Views =================================== -->

 <map:views>
  <map:view name="content" from-label="content">
   <map:serialize type="xml"/>
  </map:view>
 </map:views>


<!-- =========================== Pipelines ================================= -->

 <map:pipelines>
  <map:pipeline>

    <map:match pattern="">
       <map:redirect-to uri="portal"/>
    </map:match>

   <map:match pattern="news/**">
      <map:mount check-reload="yes" src="news/" uri-prefix="news"/>
    </map:match>

    <!-- Test pipeline for layout engine -->
    <map:match pattern="portal">
        <map:generate type="portal" label="content">
        	<map:parameter name="portal-name" value="portal" />
        </map:generate>
        <map:transform type="cinclude"/> 
        <map:transform src="styles/header.xsl"/>
        <map:transform type="htmlroot" />
        <map:serialize type="html"/> 
    </map:match>
    
    <!-- images -->
	<map:match pattern="sunspotdemoimg-*.gif">
		<map:read mime-type="image/gif" src="images/{1}.gif"/>
	</map:match>
	<map:match pattern="sunspotdemoimg-*.jpg">
    	<map:read mime-type="image/jpg" src="images/{1}.jpg"/>
   	</map:match>
    
  </map:pipeline>
 </map:pipelines>

</map:sitemap>

<!-- end of file -->
