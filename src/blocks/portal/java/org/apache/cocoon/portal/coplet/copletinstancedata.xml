<?xml version="1.0" encoding="UTF-8"?>
<mapping>
	<description>Coplet instance data mapping file</description>

	<class name="org.apache.cocoon.portal.aspect.impl.AbstractAspectalizable">
        <field name="persistentAspectDatas" type="org.apache.cocoon.portal.util.MapItem" collection="map" handler="org.apache.cocoon.portal.util.AspectDataFieldHandler">
            <bind-xml name="aspect"/>
        </field>
    </class>

	<class name="org.apache.cocoon.portal.factory.impl.AbstractProducible"
	       extends="org.apache.cocoon.portal.aspect.impl.AbstractAspectalizable">
        <field name="name" type="java.lang.String">
            <bind-xml name="name" node="attribute" />
        </field>
        <field name="id" type="java.lang.String" >
            <bind-xml name="id" node="attribute" />
        </field>
    </class>

	<class name="org.apache.cocoon.portal.profile.impl.CopletInstanceDataManager">
		<map-to xml="coplets" />

		<field name="copletInstanceData" type="org.apache.cocoon.portal.coplet.CopletInstanceData" collection="vector" handler="org.apache.cocoon.portal.util.CopletInstanceDataFieldHandler">
			<bind-xml auto-naming="deriveByClass"/>
		</field>
	</class>

	<class name="org.apache.cocoon.portal.coplet.CopletInstanceData"
		   extends="org.apache.cocoon.portal.factory.impl.AbstractProducible">
		<map-to xml="coplet-instance-data" />

		<field name="copletData" type="java.lang.String" handler="org.apache.cocoon.portal.util.CopletDataReferenceFieldHandler"/>

		<field name="attributes" type="org.exolab.castor.mapping.MapItem" collection="map" handler="org.apache.cocoon.portal.util.AttributesFieldHandler">
			<bind-xml name="attribute"/>
		</field>
	</class>

	<class name="org.exolab.castor.mapping.MapItem">
		<field name="key" type="java.lang.String">
			<bind-xml name="name"/>
		</field>

		<field name="value">
			<bind-xml name="value"/>
		</field>
	</class>

	<class name="org.apache.cocoon.portal.util.MapItem">
		<field name="key" type="java.lang.String">
			<bind-xml name="name"/>
		</field>

		<field name="value">
			<bind-xml name="value"/>
		</field>
	</class>
</mapping>

