<?xml version="1.0"?>
<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">

<map:components>
  <map:generators default="file">
    <map:generator name="traverse" src="org.apache.cocoon.generation.TraversableGenerator"/>
  </map:generators>
</map:components>

<map:pipelines>

  <map:component-configurations>
    <global-variables>
      <staging></staging>
      <!--staging>webdav://localhost/webdav/step1/</staging-->
    </global-variables>
  </map:component-configurations>

  <map:pipeline>

    <map:match pattern="repo/">
      <map:generate type="traverse" src="{global:staging}repo/">
        <map:parameter name="depth" value="1"/>
      </map:generate>
      <map:serialize type="xml"/>
    </map:match>

    <map:match pattern="repo/**/">
      <map:generate type="traverse" src="{global:staging}repo/{1}/">
        <map:parameter name="depth" value="1"/>
      </map:generate>
      <map:serialize type="xml"/>
    </map:match>

  </map:pipeline>
</map:pipelines>

</map:sitemap>
