<?xml version='1.0' encoding='ISO-8859-1'?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.0//EN"
"../dtd/document-v10.dtd">
<document>
	<header>
		<title>Advanced Control Flow</title> 
		<authors>
			<person name="Christopher Oliver" email="coliver@apache.org" />
			<person name="Ovidiu Predescu" email="ovidiu@apache.org" />
		</authors>
	</header>
<body>
	<s1 title="Velocity Generator">
  <p>
If called from a Flowscript, the Cocoon <link href="http://jakarta.apache.org/velocity">Velocity</link> Generator provides access to the immediate properties of the context object passed to <code>sendPage</code> and <code>sendPageAndWait</code>. In that case, the current <code>WebContinuation</code> is also available as a variable named <code>$continuation</code>
 You would 
typically access its <code>id</code>:
<source>
<p><pre>
   &lt;form action="$continuation.id"&gt;
</pre></p>
</source>
<p>You can also reach previous continuations by using the <code>getContinuation()</code> function:</p>
<source>
<p><pre>
    &lt;form action="$continuation.getContinuation(1).id" &gt;
</pre></p>
</source>

In addition the following implicit objects are always available in
the Velocity context:
<p>
<dl>
<dt><code>request</code> (<code>org.apache.cocoon.environment.Request</code>)</dt>
<dd>The current Cocoon request</dd>

<dt><code>response</code> (<code>org.apache.cocoon.environment.Response</code>)</dt>
<dd>The Cocoon response associated with the current request</dd>

<dt><code>session</code> (<code>org.apache.cocoon.environment.Session</code>)</dt>
<dd>The Cocoon session associated with the current request</dd>

<dt><code>context</code> (<code>org.apache.cocoon.environment.Context</code>)</dt>
<dd>The Cocoon context associated with the current request</dd>

<dt><code>parameters</code> (<code>org.apache.avalon.framework.parameters.Parameters</code>)</dt>
<dd>Any parameters passed to the generator in the pipeline</dd>
</dl>
</p>
  </p>
</s1>
</body>
</document>
