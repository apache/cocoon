<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.0//EN" "../dtd/document-v10.dtd">

<document>
<header>
	<title>cTwIG - Installing on Mac OS X</title>
	<authors>
		<person name="Are D. Gulbrandsen" email="a.d.gulbrandsen@usit.uio.no"/>
	</authors>
</header>

<body>
<s1 title="Getting started with Cocoon on Mac OS X in X easy steps">
	<s2 title="Introduction">
		<p>The easiest way to run Cocoon Under Mac OS X is using the Tomcat servlet engine. Tomcat has a built-in webserver, so we won't bother using the Apache webserver in this getting started guide.</p><p>This guide is written for Mac OS 10.1.</p>
	</s2>
		
	<s2 title="I. Download and unzip Tomcat">
		<p>Download and unzip a binary version of the latest production quality release (release build) of Tomcat: <link href="http://jakarta.apache.org/tomcat/">http://jakarta.apache.org/tomcat/</link></p>
<p>(Feb 2002 this was <code>jakarta-tomcat-4.0.1.zip)</code></p>
<p>With a standard install of Mac OS X just download the zip-file, and 
  the unzipping should start automagically with Stuffit Expander.</p>
	</s2>

	<s2 title="II. Download and unzip Cocoon 2">
		<p>Download and unzip a binary version of The latest distribution of Cocoon: <link href="http://cocoon.apache.org/mirror.cgi">http://cocoon.apache.org/mirror.cgi</link></p>
		<p>(Feb 2002 this was <code>cocoon-2.0.1-bin.zip</code>)</p>

	</s2>

	<s2 title="III. Where to put it?">
		<p>Start a terminal window and move both the tomcat folder and the cocoon folder to <br /><code>/usr/local/</code></p>
		<p>You will need administrator privileges for this.</p>
	</s2>

	<s2 title="IV. Make a Tomcat symlink">
		<p>It can be handy to make a symbolic link <code>tomcat</code> to the jakarta-tomcat folder:  <br />
		<code>cd /usr/local/</code> <br />
  		<code>ln -s jakarta-tomcat-4.0.1 tomcat</code></p>
  		<p>You can then later always refer to the path /usr/local/tomcat and just change this link if you install newer versions of Tomcat.</p>
<p>We will later refer to this path as {CATALINA_HOME} (Catalina is the  
  codename for version 4 of Tomcat).</p>
	</s2>


	<s2 title="V. Setting environment variables">
		<p>You need to set the two environment variables <code>JAVA_HOME</code> and <code>CATALINA_HOME</code>. 
   Tomcat will use this to find your Java installation and want to know where
   it is installed itself.</p>
   <p>If you use the default shell in Mac OS X, the tcsh, you can put this in your ~/.login file: <br />
  	<code>setenv JAVA_HOME /System/Library/Frameworks/JavaVM.framework/Home</code> <br />
  	<code>setenv CATALINA_HOME /usr/local/tomcat</code></p>
  	<p>If you use bash (Bourne Again SHell), put this in your ".bash_profile"-file: <br />
  	 <code>export JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Home</code><br />
  	 <code>export CATALINA_HOME=/usr/local/tomcat</code></p>
	</s2>


	<s2 title="VI. Install Cocoon on Tomcat">
		<p>Copy the <code>cocoon.war</code> file to <code>{CATALINA_HOME}/webapps/</code>
  (in my case the same path as <br /> <code>/usr/local/tomcat/webapps/</code>)</p>
	</s2>


	<s2 title="VII. Start Tomcat">
		<p>Run the startup script for Tomcat (Write this in your terminal window): <br />
		<code>/usr/local/tomcat/bin/startup.sh</code></p>
	</s2>

	<s2 title="VIII. Check that Tomcat is running">
		<p>Point your browser to this URL: <link href="http://localhost:8080/">http://localhost:8080/</link></p>
  		<p>If everything is OK you will see the Tomcat welcome page.</p>
	</s2>

	<s2 title="IX. Check that Cocoon is running">
		<p>Point your browser to this URL: <link href="http://localhost:8080/">http://localhost:8080/cocoon/</link></p>
  		<p>Now you should be able to enjoy the Cocoon welcome page (the startup may be a little slow the first time).</p><p>Test some of the Cocoon examples and play around a little.</p>
	</s2>


	<s2 title="X. Stop Tomcat">
		<p>When you are finished playing you can run the shutdown script for Tomcat:<br />
   <code>/usr/local/tomcat/bin/shutdown.sh</code>
</p>
	</s2>

			
	<s2 title="Yes! This seems to be working, - and now what?">
		<p>Congratulations! You have now completed the installation and test drive of a  servlet engine, a webserver and a servlet under Mac OS X. Need a break? - Take 5, you deserve it! &nbsp; :-)</p>
		<p>You are now ready to take a closer look at the examples and start doing some <link href="ctwig-transformations.html">basic transformations</link>.</p>

		<p>Have fun!</p> <p>Best regards,<br /> 
		Are D. Gulbrandsen<br />
		The XML-group, <br />
		Center for Information Technology Services<br />
		University of Oslo, Norway</p>
	</s2>

	</s1>
</body>
</document>
