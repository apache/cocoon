<?xml version="1.0"?>
<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">

<!-- CVS: $Id: sitemap.xmap,v 1.1 2003/03/26 21:21:48 stefano Exp $ -->

 <map:pipelines>
 
   <map:pipeline>

   <map:match pattern="">
     <map:generate src="samples.xml"/>
     <map:transform src="context://samples/common/style/xsl/html/simple-samples2html.xsl">
        <map:parameter name="contextPath" value="{request:contextPath}"/>
     </map:transform>
     <map:serialize/>
   </map:match>
      
   <map:match pattern="*">
    <map:generate src="pages/{1}.xsp" type="serverpages"/>
    <map:transform src="context://stylesheets/system/xml2html.xslt"/>
    <map:serialize/>
   </map:match>

   <!-- ======================== XScript Samples ========================= -->

   <map:match pattern="getquote1">
     <map:generate src="docs/samples/xscript/soap-getquote1.xsp" type="serverpages"/>
     <map:transform src="docs/samples/xscript/soap-getquote1.xsl"/>
     <map:transform src="context://samples/stylesheets/dynamic-page2html.xsl">
        <map:parameter name="servletPath" value="{request:servletPath}"/>
        <map:parameter name="sitemapURI" value="{request:sitemapURI}"/>
        <map:parameter name="contextPath" value="{request:contextPath}"/>
        <map:parameter name="file" value="docs/samples/{0}.xsp"/>
        <map:parameter name="remove" value="{0}"/>
     </map:transform>
     <map:serialize/>
   </map:match>

   <map:match pattern="*">
     <map:generate src="{1}.xsp" type="serverpages"/>
     <map:transform src="context://samples/stylesheets/dynamic-page2html.xsl">
        <map:parameter name="servletPath" value="{request:servletPath}"/>
        <map:parameter name="sitemapURI" value="{request:sitemapURI}"/>
        <map:parameter name="contextPath" value="{request:contextPath}"/>
        <map:parameter name="file" value="{0}.xsp"/>
        <map:parameter name="remove" value="{0}"/>
     </map:transform>
     <map:serialize/>
   </map:match>   

     </map:pipeline>                
  </map:pipelines>
</map:sitemap>
