<?xml version="1.0" encoding="UTF-8"?>

<!-- CVS $Id: sitemap.xmap,v 1.6 2004/02/16 23:50:09 joerg Exp $ -->

<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">

  <map:components>
    <map:generators default="file">
      <map:generator name="exception" src="org.apache.cocoon.samples.errorhandling.ExceptionGenerator"/>
    </map:generators>
  </map:components>

  <map:pipelines>
    <map:pipeline>

      <map:match pattern="exception">
        <map:generate type="exception"/>
        <map:serialize/>
      </map:match>

      <map:match pattern="generror">
        <map:generate src="error-giving-page.xml"/>
        <map:serialize/>
      </map:match>

      <map:handle-errors>
        <map:select type="exception">
          <map:when test="validation">
            <map:generate src="validation.htm"/>
            <map:serialize/>
          </map:when>
        </map:select>
      </map:handle-errors>
    </map:pipeline>

    <map:handle-errors>
      <map:select type="exception">
        <map:when test="application1">
          <map:generate src="application1.htm"/>
          <map:serialize/>
        </map:when>
        <map:when test="application2">
          <map:generate src="application2.htm"/>
          <map:serialize/>
        </map:when>
        <map:when test="application">
          <map:generate src="application.htm"/>
          <map:serialize/>
        </map:when>
      </map:select>
    </map:handle-errors>

  </map:pipelines>
</map:sitemap>
