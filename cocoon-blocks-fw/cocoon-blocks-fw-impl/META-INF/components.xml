<?xml version="1.0" encoding="UTF-8"?>
<components xmlns:scr="http://www.osgi.org/xmlns/scr/v1.0.0">
  <scr:component name="cocoon.activator">
    <scr:implementation class="org.apache.cocoon.blocks.Activator"/>
    <scr:reference name="LOG"
                   interface="org.osgi.service.log.LogService"
                   bind="setLog"/>
    <scr:reference name="HTTP"
                   interface="org.osgi.service.http.HttpService"
                   bind="setHttpService"/>
    <scr:reference name="Servlet"
                   interface="javax.servlet.Servlet"
                   cardinality="0..n"
                   policy="dynamic"
                   bind="setServlet"
                   unbind="unsetServlet"/>
  </scr:component>

  <scr:component name="cocoon.protocol.block">
    <scr:implementation class="org.apache.cocoon.blocks.BlockProtocol"/>
    <scr:service>
      <scr:provide interface="org.osgi.service.url.URLStreamHandlerService"/>
    </scr:service>
    <scr:property name="url.handler.protocol">
      block
    </scr:property>
    <scr:reference name="LOG"
                   interface="org.osgi.service.log.LogService"
                   bind="setLog"/>
  </scr:component>
</components>