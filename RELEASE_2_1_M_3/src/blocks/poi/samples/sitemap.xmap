<?xml version="1.0"?>
<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">

 <map:components>
  <map:generators default="file">
    <map:generator label="content,data" logger="sitemap.generator.serverpages" name="serverpages" pool-grow="2" pool-max="32" pool-min="4" src="org.apache.cocoon.generation.ServerPagesGenerator"/>
  </map:generators>
  <map:transformers default="xslt"/>
  <map:readers default="resource"/>
  <map:serializers default="html">
    <map:serializer name="xls" src="org.apache.cocoon.serialization.HSSFSerializer"/>
  </map:serializers>
  <map:matchers default="wildcard"/>
  <map:selectors default="browser"/>
 </map:components>

 <map:pipelines>
  <map:pipeline>
 
   <map:match pattern="">
    <map:redirect-to uri="welcome"/>
   </map:match>

   <map:match pattern="welcome">
    <map:generate src="samples.xml"/>
    <map:transform src="context://samples/common/style/xsl/html/simple-samples2html.xsl">
       <map:parameter name="contextPath" value="{request:contextPath}"/>
    </map:transform>
    <map:serialize/>
   </map:match>

   <map:match pattern="hello.xls">
    <map:generate src="context://samples/hello-world/content/hello.xml"/>
    <map:transform src="context://samples/hello-world/style/xsl/page2xls.xsl"/>
    <map:serialize type="xls"/>
   </map:match>

   <map:match pattern="*.xls">
    <map:generate src="content/{1}.xml"/>
    <map:serialize type="xls"/>
   </map:match>
<!--
   <map:match pattern="statetax-sql.xml">
    <map:generate src="content/dynamic/statetax.xml"/>
    <map:transform type="sql">
      <map:parameter name="use-connection" value="personnel"/>
    </map:transform>
    <map:serialize type="xml"/>
   </map:match>

   <map:match pattern="statetax.xml">
    <map:generate src="content/dynamic/statetax.xml"/>
    <map:transform type="sql">
      <map:parameter name="use-connection" value="personnel"/>
    </map:transform>
    <map:transform src="stylesheets/statetax-sql2xls.xsl"/> 
    <map:serialize type="xml"/>
   </map:match>

   <map:match pattern="statetax.xls">
    <map:generate src="content/dynamic/statetax.xml"/>
    <map:transform type="sql">
      <map:parameter name="use-connection" value="personnel"/>
    </map:transform>
    <map:transform src="stylesheets/statetax-sql2xls.xsl"/>
    <map:serialize type="xls"/>
   </map:match>
   
   <map:match pattern="statetax2.xls">
    <map:generate src="content/dynamic/statetax2.xsp" type="serverpages"/>
    <map:transform src="stylesheets/statetax-esql2xls.xsl"/>
    <map:serialize type="xls"/>
   </map:match>

   <map:match pattern="sql-xls/*.xls">
    <map:generate src="context://samples/docs/samples/sql/{1}.xml"/>
    <map:transform type="sql">
     <map:parameter name="use-connecton" value="personnel"/>
    </map:transform>

   <map:transform src="stylesheets/simple-sql2xls.xsl"/>
    <map:serialize type="xls"/>
   </map:match>

   <map:match pattern="xsp/*">
    <map:generate src="content/dynamic/{1}.xsp" type="serverpages"/>-->
<!--
     <map:transform src="context://samples/stylesheets/dynamic-page2html.xsl">
        <map:parameter name="servletPath" value="{request:servletPath}"/>
        <map:parameter name="sitemapURI" value="{request:sitemapURI}"/>
        <map:parameter name="contextPath" value="{request:contextPath}"/>
        <map:parameter name="file" value=".xsp"/>
     </map:transform>
-->
<!--    <map:serialize type="xml"/>
   </map:match>
   

   <map:match pattern="xspxml/*">
    <map:generate src="content/dynamic/{1}.xsp" type="serverpages"/>
    <map:transform src="stylesheets/statetax-esql2xls.xsl"/>
    <map:serialize type="html"/>
   </map:match>
-->

   <!-- ========================= Resources ================================ -->

   <map:match pattern="sites/styles/**.css">
    <map:read src="context://samples/resources/styles/{1}.css" mime-type="text/css"/>
   </map:match>

   <map:match pattern="images/**.gif">
    <map:read src="context://samples/resources/images/{1}.gif" mime-type="image/gif"/>
   </map:match>

   <map:match pattern="images/**.jpg">
    <map:read src="context://samples/resources/images/{1}.jpg" mime-type="image/jpg"/>
   </map:match>

   <map:match pattern="images/**.png">
    <map:read src="context://samples/resources/images/{1}.png" mime-type="image/png"/>
   </map:match>
    
   <!-- delegate to parent sitemap 
   <map:handle-errors/> -->

  </map:pipeline>

 </map:pipelines>

</map:sitemap>



<!-- end of file -->

