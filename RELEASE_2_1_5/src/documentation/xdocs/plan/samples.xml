<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 1999-2004 The Apache Software Foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.0//EN" "document-v10.dtd">

<document>
 <header>
  <title>Refactoring of Cocoon Samples</title>
  <subtitle>Planning Documentation</subtitle>
  <authors>
   <person name="David Crossley" email="crossley@apache.org"/>
  </authors>
 </header>

 <body>
 <s1 title="Overview">
 <p>
  The Cocoon samples are now under <code>src/webapp/samples/</code> and have
  been refactored to be self contained, to have their own sitemaps, and to
  utilise some common resources.
 </p>

 <p>
  However, there are still some old samples that have not yet been moved into
  this new structure. They are at <code>src/webapp/docs/samples/</code> and so
  are not available from the samples page. Please help to bring them back.
 </p>

 <p>
  The main page of the samples is becoming rather cluttered again. The aim
  is to have various samples pages, rather than just one big page.
 </p>

 <p>There are some missing groups of samples, e.g.</p>

<ul>
<li>Welcome => Samples => More Samples => Static Content</li>
<li>Welcome => Samples => More Samples => Server Pages</li>
<li>Welcome => Samples => More Samples => Sources</li>
<li>Welcome => Samples => More Samples => Web Applications</li>
</ul>
 </s1>

 <s1 title="Procedure">

<ul>
<li>Choose your favourite missing sample.</li>
<li>Create a new directory under <code>webapp/samples</code></li>
<li>Follow the example of some other samples,
e.g. <code>poi/</code> or <code>i18n/</code> or <code>misc/</code></li>
<li><code>cp samples/misc/sitemap.xmap samples/yours/sitemap.xmap</code>
and edit it to suit your own matches.
</li>
<li><code>cp samples/misc/samples.xml samples/yours/samples.xml</code>
and edit it to become the front page to your collection of samples.</li>
<li>Move the documents from the old sample at <code>webapp/docs/samples</code></li>
<li>Make links to your new samples from other pages.</li>
<li>Remove the old sample from <code>webapp/docs/samples</code></li>
<li>Ensure that the new sample works as expected.</li>
<li>Send a <link href="../howto/index.html">patch via Bugzilla</link></li>
</ul>

<fixme author="DC">Explain how to retain CVS history when moving the files.</fixme>
 </s1>

 <s1 title="Other discussion">
 <p>
  There has been some discussion on cocoon-dev ...
 </p>

 <ul>
  <li><link href="http://marc.theaimsgroup.com/?l=xml-cocoon-dev&amp;m=102259446212331">Samples Refactoring: Documentation Structure</link></li>
 </ul>
 </s1>

 </body>
</document>
