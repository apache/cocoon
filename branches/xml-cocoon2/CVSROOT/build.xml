<?xml version="1.0"?>

<project name="Cocoon" default="package" basedir=".">

	<target name="init">
  <property name="project" value="Cocoon"/>
  <property name="name" value="cocoon"/>
  <property name="vers" value="2.0"/>
  <property name="ptch" value="alpha1"/>

  <property name="packages" value="org.apache.*"/>
  
  <property name="build.dir" value="./build"/>
  <property name="build.src" value="./build/src"/>
  <property name="build.dst" value="./build/bin"/>
  <property name="src.dir" value="./src"/>
  <property name="bin.dir" value="./bin"/>
  <property name="doc.dir" value="./doc"/>
  
  <property name="copyright.name" value="Apache Software Foundation"/>
  <property name="copyright.year" value="1998-2000"/>
  </target>
  
  <target name="prepare" depends="init">
    <mkdir dir="${build.dir}"/>
    <mkdir dir="${build.src}"/>
    <mkdir dir="${build.dst}"/>
    <copydir src="${src.dir}" dest="${build.src}"/>
  </target>

  <target name="compile" depends="prepare">
    <javac srcdir="${build.src}" destdir="${build.dst}" classpath="${classpath}" debug="${debug}"/>
  </target>

  <target name="package" depends="compile">
    <mkdir dir="${bin.dir}"/>
    <jar jarfile="${bin.dir}/${name}-${vers}-${ptch}.jar" basedir="${build.dst}" includes="org/**"/>
  </target>

  <target name="javadoc" depends="prepare">
    <mkdir dir="${doc.dir}"/>
    <javadoc packagenames="${packages}"
             sourcepath="${build.src}"
             destdir="${doc.dir}"
             author="true"
             version="true"
             use="false"
             noindex="true"
             windowtitle="${project} Version ${vers} (${ptch}) APIs"
             doctitle="${project} Version ${vers} (${ptch})"
             bottom="&lt;center&gt;Copyright &#169; ${copyright.year} ${copyright.name}. All Rights Reserved.&lt;/center&gt;"/>
  </target>
  
  <target name="clean">
    <deltree dir="${build.dir}"/>
  </target>

  <target name="distclean" depends="clean">
    <deltree dir="${bin.dir}"/>
    <deltree dir="${doc.dir}"/>
  </target>

  <target name="all" depends="package,javadoc"/>

</project>
