<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE document SYSTEM "./dtd/document-v10.dtd">

<document>
 <header>
  <title>Installing Cocoon2</title>
  <authors>
   <person name="Stefano Mazzocchi" email="stefano@apache.org"/>
   <person name="Giacomo Pati" email="Giacomo.Pati@pwr.ch"/>
  </authors>
 </header>

 <body>

 <s1 title="System Requirements">
  <p>
   Cocoon requires the following systems to be already installed in your system:
  </p>

  <ul>
   <li><strong>Java Virtual Machine</strong>
    A Java 1.2 or later compatible virtual machine must be present for both
    command line and servlet type usage of Cocoon. Note that all servlet engines
    require a JVM to run so if you are already using servlets you already have
    one installed.
   </li>
   <li><strong>Servlet Engine</strong>
    A Servlet 2.2 compliant servlet engine must be present in order to support
    servlet operation and dynamic request handling. Note that this requirement
    is optional for command line operation.
   </li>
  </ul>
 </s1>

 <s1 title="Installing Cocoon2 on Apache Tomcat (standalone only)">

  <p>
    First copy all jar archives from <code>[path-to-Cocoon2]/lib</code>
    to <code>[path-to-Tomcat]/lib</code> except <code>ant.jar</code>, <code>servlet_2_2.jar</code>
    and <code>stylebook-1.0-b2.jar</code>.
  </p>
  
  <p>
    Copy <code>[path-to-Cocoon2]/bin/cocoon.jar</code> to
    <code>[path-to-Tomcat]/lib</code>, as well.
  </p>
  
  <p>
    If you are running running Tomcat on a Windows operating system you have 
    to adjust your classpath to include all jar files copied so far in the 
    <code>[path-to-Tomcat]/bin/tomcat.bat</code> file. Add the following lines 
    right after the line <code>set CLASSPATH=.</code>
  </p>
  
  <source>
    set CLASSPATH=%CLASSPATH%;%TOMCAT_HOME%\lib\cocoon.jar
    set CLASSPATH=%CLASSPATH%;%TOMCAT_HOME%\lib\xerces_1_1_1.jar
    set CLASSPATH=%CLASSPATH%;%TOMCAT_HOME%\lib\xalan_1_0_1.jar
    set CLASSPATH=%CLASSPATH%;%TOMCAT_HOME%\lib\fop_0_13_0.jar
    set CLASSPATH=%CLASSPATH%;%TOMCAT_HOME%\lib\svgv_0_8.jar
    set CLASSPATH=%CLASSPATH%;%TOMCAT_HOME%\lib\jstyle.jar
    set CLASSPATH=%CLASSPATH%;%TOMCAT_HOME%\lib\js.jar
  </source>
  
  <p>
    On UNIX operating systems, Tomcat will automatically handle the setup of 
    the classpath based on alphabetical order.  If you use a newer version of 
    Tomcat (i.e. current CVS version) that requires <code>jaxp.jar</code> and 
    <code>parser.jar</code> instead of <code>xml.jar</code> you should rename 
    <code>parser.jar</code> to <code>zparser.jar</code> to make it 
    appear as last, otherwise Cocoon will not work because it requires SAX2
    and DOM2 to operate which are included in Xerces so must appear in front.
  </p>
  
  <p>
    Copy <code>[path-to-Cocoon]/webapps/cocoon.war</code> to 
    <code>[path-to-Tomcat]/webapps</code>.  Tomcat will create the new Cocoon 
    context out of the <code>cocoon.war</code> file as soon as it's restarted.
  </p>
  
  <p>
    Finally, restart Tomcat, point your browser to...
  </p>
  
  <source><link href="http://localhost:8080/cocoon/welcome">http://localhost:8080/cocoon/welcome</link></source>
  
  <p>
    ... where you'll experience samples of Cocoon functionality.
  </p>
 </s1>
 
 </body>
</document>
