<?xml version="1.0"?>

<!DOCTYPE page [
 <!ELEMENT page (title?, content)>
 <!ELEMENT title (#PCDATA)>
 <!ELEMENT content (paragraph+)>
 <!ELEMENT paragraph (#PCDATA)>
]>

<page
	xmlns:sql="http://xml.apache.org/cocoon/SQL"
>
 <title>Hello</title>
 <content>
  <paragraph>This is my first Cocoon2 page filled with sql data!</paragraph>

  <execute-query xmlns="http://xml.apache.org/cocoon/SQL"> 
   <query>
   	select id,name from department_table
   </query>
	<execute-query>
	 <query>
	  select id,name from employee_table where department_id = <ancestor-value sql:name="id" sql:level="1"/>
	 </query>
	</execute-query>
  </execute-query>

 </content>
</page>

