<?xml version="1.0" encoding="UTF-8"?>
<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">
  <!-- =========================== Views =================================== -->
  <map:views>
    <map:view name="xml" from-label="xml">
      <map:serialize type="xml"/>
    </map:view>
  </map:views>
  <!-- =========================== Pipelines ================================= -->
  <map:pipelines>
    <map:pipeline>
      <map:match pattern="">
        <map:redirect-to uri="welcome"/>
      </map:match>

      <map:match pattern="welcome">
        <map:generate src="samples.xml"/>
        <map:transform src="context://samples/common/style/xsl/html/simple-samples2html.xsl">
          <map:parameter name="contextPath" value="{request:contextPath}"/>
        </map:transform>
        <map:serialize type="html"/>
      </map:match>
    </map:pipeline>

    <!-- pipeline mounting Cocoon hive portal demo -->
    <map:pipeline>
      <map:match pattern="cocoonhive/**">
        <map:mount check-reload="yes" src="cocoonhive/" uri-prefix="cocoonhive"/>
      </map:match>
    </map:pipeline>

    <!-- Interactive Web Application Syndication  -->
    <map:pipeline>
      <map:match pattern="wsproxy/*">
        <map:generate type="wsproxy" label="xml"
          src="http://{request:serverName}:{request:serverPort}{request:contextPath}/samples/xmlform/wizard?cocoon-view=xml"/>
        <map:transform src="stylesheets/newWizard2html.xsl" />
        <map:transform src="context://stylesheets/system/xmlform2html.xslt"/>
        <map:serialize type="html"/>
      </map:match>
    </map:pipeline>
  </map:pipelines>
</map:sitemap>
