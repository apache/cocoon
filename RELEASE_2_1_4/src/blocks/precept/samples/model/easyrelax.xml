<?xml version="1.0"?>

<grammar xmlns="http://www.dff.st/ns/desire/easyrelax/grammar/1.0">
  <start>
    <element name="cocoon-installation">

      <!-- the user who installed cocoon -->
      <element name="user">
        <element name="firstname"/>
        <element name="lastname"/>
        <element name="email">
          <constraint type="regexpr" name="E_EMAIL">^[a-zA-Z0-9]+[a-zA-Z0-9-_.]*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+$</constraint>
        </element>
        <optional>
          <element name="age"/>
          <element name="gender"/>
        </optional>
      </element>

      <!-- serial number of cocoon installation -->
      <element name="number"/>

      <!-- an optional live url -->
      <optional>
        <element name="live-url"/>
        <element name="publish"/>
      </optional>

      <!-- the system cocoon is running on -->
      <element name="system">
        <element name="os">
          <constraint type="choice" name="E_OS">
            <choice value="linux">Linux</choice>
            <choice value="w2k">Windows 2000</choice>
          </constraint>
        </element>
        <element name="processor">
          <constraint type="choice" name="E_PROCESSOR">
            <choice value="intel">Intel</choice>
            <choice value="powerpc">PowerPC</choice>
          </constraint>
        </element>
        <element name="ram"/>
        <element name="servlet-engine">
          <constraint type="choice" name="E_ENGINE">
            <choice value="tc4">Tomcat 4</choice>
            <choice value="tc3">Tomcat 3</choice>
            <choice value="resin">Resin</choice>
          </constraint>
        </element>
        <element name="java-version">
          <constraint type="choice" name="E_JAVA">
            <choice value="1.2">JDK 1.2.x</choice>
            <choice value="1.3">JDK 1.3.x</choice>
            <choice value="1.4">JDK 1.4.x</choice>
          </constraint>
        </element>        
      </element>
    </element>
  </start>
</grammar>
